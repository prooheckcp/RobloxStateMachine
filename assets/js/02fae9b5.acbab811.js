"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[331],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),h=c(a),d=o,m=h["".concat(s,".").concat(d)]||h[d]||p[d]||r;return a?n.createElement(m,l(l({ref:t},u),{},{components:a})):n.createElement(m,l({ref:t},u))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,l=new Array(r);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[h]="string"==typeof e?e:o,l[1]=i;for(var c=2;c<r;c++)l[c]=a[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},76647:(e,t,a)=>{a.r(t),a.d(t,{contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var n=a(87462),o=(a(67294),a(3905));const r={},l=void 0,i={type:"mdx",permalink:"/RobloxStateMachine/",source:"@site/pages/index.md",description:"Documentation | Source",frontMatter:{}},s=[{value:"1. Organization",id:"1-organization",level:2},{value:"A. First Create 2 folders",id:"a-first-create-2-folders",level:3},{value:"B. Create 2 ModuleScripts in each folder as the following example",id:"b-create-2-modulescripts-in-each-folder-as-the-following-example",level:3},{value:"C. Create a Part and call it &quot;myPart&quot;",id:"c-create-a-part-and-call-it-mypart",level:3},{value:"2. States",id:"2-states",level:2},{value:"3. Create State Machine",id:"3-create-state-machine",level:2},{value:"4. Change Data from State",id:"4-change-data-from-state",level:2},{value:"5. Transitions",id:"5-transitions",level:2},{value:"6. Connecting Transitions",id:"6-connecting-transitions",level:2},{value:"7. Watch and enjoy!",id:"7-watch-and-enjoy",level:2}],c={toc:s},u="wrapper";function h(e){let{components:t,...a}=e;return(0,o.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.discordapp.com/attachments/670023265455964198/1104171789069860864/BeautifulLogo.png",alt:null})),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://prooheckcp.github.io/RobloxStateMachine"},"Documentation")," | ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/prooheckcp/RobloxStateMachine"},"Source")),(0,o.kt)("h1",{id:"-introduction"},"\ud83c\udfeb Introduction"),(0,o.kt)("p",null,"This is a Roblox implementation of a simple State Machine! I personally hate the concept of over engineering things so instead I kept it simple and easy to use as all things should be! But in case you are wondering.. what is a State Machine?"),(0,o.kt)("p",null,"A state machine is a way of organizing and controlling the behavior of objects in a program. It's like a flowchart that defines the different states an object can be in and the transitions between those states.\n",(0,o.kt)("img",{parentName:"p",src:"https://cdn.discordapp.com/attachments/670023265455964198/1105648392874512394/fsm_enemy_brain.png",alt:null}),'\nIn game development, state machines are often used to manage the behavior of characters, enemies, and other objects in the game world. For example, a state machine might define the states "idle," "walking," "running," and "attacking" for a player character. When the player presses a button to move, the state machine would transition the character from the "idle" state to the "walking" state, and then to the "running" state if the player holds down the movement button for a longer period of time.'),(0,o.kt)("p",null,"State machines can help make game development more efficient and easier to manage by providing a clear structure for controlling the behavior of objects. They also make it easier to add new states and transitions as the game evolves and new features are added."),(0,o.kt)("h1",{id:"-installation"},"\ud83d\udcc1 Installation"),(0,o.kt)("p",null,"There are 3 different ways of installing this package into your project! You can either download it from the releases page, download the Roblox model or install it via Wally!"),(0,o.kt)("p",null,"Wally: ",(0,o.kt)("a",{parentName:"p",href:"https://wally.run/package/prooheckcp/robloxstatemachine"},"https://wally.run/package/prooheckcp/robloxstatemachine")),(0,o.kt)("p",null,"Roblox Model: ",(0,o.kt)("a",{parentName:"p",href:"https://www.roblox.com/library/13401856320/RobloxStateMachine"},"https://www.roblox.com/library/13401856320/RobloxStateMachine")),(0,o.kt)("p",null,"Releases: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/prooheckcp/RobloxStateMachine/releases"},"https://github.com/prooheckcp/RobloxStateMachine/releases")),(0,o.kt)("h1",{id:"-tutorial"},"\ud83d\udcd9 Tutorial"),(0,o.kt)("p",null,"Please make sure you've installed the RobloxStateMachine before you decide to jump into the tutorial!"),(0,o.kt)("p",null,"In this tutorial we will be going step by step on how to setup a very simple state machine. We will see how to create states, transitions and then a state machine!"),(0,o.kt)("h2",{id:"1-organization"},"1. Organization"),(0,o.kt)("p",null,"Remember, the main purpose we use State Machines to begin with is so we can break down a complex system into smaller and simpler systems! So organisation is key. I Will be showing how I personally like to organise my State Machines. Obviously you can do it however you please yet I'd still highly recommend you to do it this way!"),(0,o.kt)("h3",{id:"a-first-create-2-folders"},"A. First Create 2 folders"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.discordapp.com/attachments/670023265455964198/1105650053118431342/Screenshot_2023-05-10_at_01.18.06.png",alt:null})),(0,o.kt)("p",null,"We will be using 1 folder to group the states and the second one to group the transitions! Now let's start by making 2 states and 2 transitions."),(0,o.kt)("h3",{id:"b-create-2-modulescripts-in-each-folder-as-the-following-example"},"B. Create 2 ModuleScripts in each folder as the following example"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.discordapp.com/attachments/670023265455964198/1105650694846947459/Screenshot_2023-05-10_at_01.20.53.png",alt:null})),(0,o.kt)("p",null,"In this example we will be creating a state machine that manages the color of a part! it will have 2 states: a red and a blue colour.\nSo we want two states: Blue and Red. We also want to make 2 transitions that will allow us to go from blue to red and from red to blue!"),(0,o.kt)("h3",{id:"c-create-a-part-and-call-it-mypart"},'C. Create a Part and call it "myPart"'),(0,o.kt)("p",null,"We will be creating a part in the workspace and use it as an example to how we can make/use the StateMachine\n",(0,o.kt)("img",{parentName:"p",src:"https://cdn.discordapp.com/attachments/670023265455964198/1105654243802755132/Screenshot_2023-05-10_at_01.34.58.png",alt:null})),(0,o.kt)("h2",{id:"2-states"},"2. States"),(0,o.kt)("p",null,"Now that we organised our files let's setup the states first! We will start by making a simple state template inside of the Blue file!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal Blue = RobloxStateMachine.State.new("Blue") -- The name of our state\n\nreturn Blue\n')),(0,o.kt)("p",null,"This creates and returns a state called Blue. Now let's make it change the colour of our part to blue when it enters this state. Let's also print all lifecycles to have an idea of what is going on!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal Blue = RobloxStateMachine.State.new("Blue") -- The name of our state\n\nfunction Blue:OnInit()\n    print("Blue Init!")\nend\n\nfunction Blue:OnEnter(data)\n    print("Blue Enter!")\n    data.part.Color = Color3.fromRGB(0, 0, 255) -- Change color to blue!\nend\n\nfunction Blue:OnHearBeat()\n\nend\n\nfunction Blue:OnLeave()\n    print("Blue Leave!")\nend\n\nreturn Blue\n')),(0,o.kt)("p",null,"This will turn our part blue when it enters the blue state! Are you confused about where the \"data.part\" comes from? Don't worry, we're getting right into that next!"),(0,o.kt)("h2",{id:"3-create-state-machine"},"3. Create State Machine"),(0,o.kt)("p",null,"Now that we have 1 state we can already make our state machine! Don't worry, we will be covering transitions and making our red state next! Now in a server or local script create a state machine with the following code..."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal states = ReplicatedStorage.States -- Reference to our states folder\n\nlocal stateMachine = RobloxStateMachine.new("Blue", -- This is the initial state of our machine\n    {\n        require(states.Blue) -- This is an array of our states\n    },\n    {\n        part = workspace.myPart -- This is the data that our transitions and states will have access to\n    }\n)\n')),(0,o.kt)("p",null,'Running the game will now turn out part blue as it will be entering the blue state! If you see we are giving the StateMachine the information about what "part" is. It allows us to access the workspace part from our states and transitions!\n',(0,o.kt)("img",{parentName:"p",src:"https://cdn.discordapp.com/attachments/670023265455964198/1105806395330269287/Screenshot_2023-05-10_at_11.39.31.png",alt:null})),(0,o.kt)("h2",{id:"4-change-data-from-state"},"4. Change Data from State"),(0,o.kt)("p",null,"Something that is very important is to change our State Machine data from within the state. Let's go into the blue state and add a timer, this will tell us how long since we have entered the blue state. It will later help us to transition between the 2 states after X amount of seconds!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal Blue = RobloxStateMachine.State.new("Blue") -- The name of our state\n\nfunction Blue:OnInit()\n    print("Blue Init!")\nend\n\nfunction Blue:OnEnter(data)\n    print("Blue Enter!")\n    data.timer = 0 -- Create timer in data\n    data.part.Color = Color3.fromRGB(0, 0, 255) -- Change color to blue!\nend\n\nfunction Blue:OnHearBeat(data, deltatime) -- All functions receive data as the first parameter\n    data.timer += deltatime\nend\n\nfunction Blue:OnLeave()\n    print("Blue Leave!")\nend\n\nreturn Blue\n')),(0,o.kt)("p",null,'Great now we completely finished our blue state! Now let\'s just copy paste the blue state into the red state and change the colour to Red and the name of the state from Blue to "Red".'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal Red = RobloxStateMachine.State.new("Red") -- The name of our state\n\nfunction Red:OnInit()\n    print("Red Init!")\nend\n\nfunction Red:OnEnter(data)\n    print("Red Enter!")\n    data.timer = 0 -- Create timer in data\n    data.part.Color = Color3.fromRGB(255, 0, 0) -- Change color to red!\nend\n\nfunction Red:OnHearBeat(data, deltatime) -- All functions receive data as the first parameter\n    data.timer += deltatime\nend\n\nfunction Red:OnLeave()\n    print("Red Leave!")\nend\n\nreturn Red\n')),(0,o.kt)("p",null,"Don't forget to add the red state to our state machine!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'RobloxStateMachine.new("Blue",\n{\nrequire(states.Blue),\nrequire(states.Red)\n},\n{\npart = workspace.myPart\n}\n)\n')),(0,o.kt)("h2",{id:"5-transitions"},"5. Transitions"),(0,o.kt)("p",null,'Now that we finished our states we want to add the transitions to tell our state machine when should it change the state. Let\'s open the "ToRed" Lua file that we created early and write the following code:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal ToRed = RobloxStateMachine.Transition.new("Red") -- This means we want to change to the red state\n\n-- This will change the part state from blue to red after 5 seconds\nfunction ToRed:OnDataChanged(data)\n    if data.timer < 5 then\n        return false -- This means we dont want to change the state\n    else\n        return true -- Return true after 5 seconds\n    end\nend\n\nreturn ToRed\n')),(0,o.kt)("p",null,"And that's it! This will make our state move from Blue to Red after 5 seconds! Now let's make the code to change our state from Red to blue also after another 5 seconds..."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RobloxStateMachine = require(ReplicatedStorage.RobloxStateMachine)\n\nlocal ToBlue = RobloxStateMachine.Transition.new("Blue") -- This means we want to change to the blue state\n\n-- This will change the part state from red to blue after 5 seconds\nfunction ToBlue:OnDataChanged(data)\n    if data.timer < 5 then\n        return false -- This means we dont want to change the state\n    else\n        return true -- Return true after 5 seconds\n    end\nend\n\nreturn ToBlue\n')),(0,o.kt)("h2",{id:"6-connecting-transitions"},"6. Connecting Transitions"),(0,o.kt)("p",null,"Now that we have both our States and Transitions we should connect our transitions to the states! You can do this by going into the Red and Blue state and add a Transitions array with every transition you want. See the following examples"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--blue.lua\nlocal Blue = RobloxStateMachine.State.new("Blue") -- The name of our state\nBlue.Transitions = {\n    require(ReplicatedStorage.Transitions.ToRed)\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'--red.lua\nlocal Red = RobloxStateMachine.State.new("Red") -- The name of our state\nRed.Transitions = {\n    require(ReplicatedStorage.Transitions.ToBlue)\n}\n')),(0,o.kt)("h2",{id:"7-watch-and-enjoy"},"7. Watch and enjoy!"),(0,o.kt)("p",null,"Now that we have finally done all of this you can see it in action! Just press play and enjoy seeing the State Machine Working!"),(0,o.kt)("p",null,"Had problems during the tutorial? Check the copy unlocked place here:\n",(0,o.kt)("a",{parentName:"p",href:"https://www.roblox.com/games/13401789032/RobloxStateMachine-Copy-Unlocked"},"https://www.roblox.com/games/13401789032/RobloxStateMachine-Copy-Unlocked")),(0,o.kt)("h1",{id:"-contributing"},"\u2b50 Contributing"),(0,o.kt)("p",null,"Please leave a star on ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/prooheckcp/RobloxStateMachine"},"GitHub"),", it helps a lot!"),(0,o.kt)("p",null,"Pull requests are welcome. For major changes, please open an issue first\nto discuss what you would like to change."),(0,o.kt)("p",null,"Please make sure to update tests as appropriate."),(0,o.kt)("h1",{id:"-license"},"\ud83d\udcc4 License"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://choosealicense.com/licenses/mit/"},"MIT")))}h.isMDXComponent=!0}}]);